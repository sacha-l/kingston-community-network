{"ast":null,"code":"import _objectWithoutProperties from\"/home/alansky/Dev/KCN/kingston-community-network/website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import React,{useEffect}from'react';import classNames from'classnames';var defaultProps={children:null,show:false,closeHidden:false,video:'',videoTag:'iframe'};var Modal=function Modal(_ref){var className=_ref.className,children=_ref.children,handleClose=_ref.handleClose,show=_ref.show,closeHidden=_ref.closeHidden,video=_ref.video,videoTag=_ref.videoTag,props=_objectWithoutProperties(_ref,[\"className\",\"children\",\"handleClose\",\"show\",\"closeHidden\",\"video\",\"videoTag\"]);useEffect(function(){document.addEventListener('keydown',keyPress);document.addEventListener('click',stopProgagation);return function(){document.removeEventListener('keydown',keyPress);document.removeEventListener('click',stopProgagation);};});useEffect(function(){handleBodyClass();},[props.show]);var handleBodyClass=function handleBodyClass(){if(document.querySelectorAll('.modal.is-active').length){document.body.classList.add('modal-is-active');}else{document.body.classList.remove('modal-is-active');}};var keyPress=function keyPress(e){e.keyCode===27&&handleClose(e);};var stopProgagation=function stopProgagation(e){e.stopPropagation();};var classes=classNames('modal',show&&'is-active',video&&'modal-video',className);return/*#__PURE__*/React.createElement(React.Fragment,null,show&&/*#__PURE__*/React.createElement(\"div\",Object.assign({},props,{className:classes,onClick:handleClose}),/*#__PURE__*/React.createElement(\"div\",{className:\"modal-inner\",onClick:stopProgagation},video?/*#__PURE__*/React.createElement(\"div\",{className:\"responsive-video\"},videoTag==='iframe'?/*#__PURE__*/React.createElement(\"iframe\",{title:\"video\",src:video,frameBorder:\"0\",allowFullScreen:true}):/*#__PURE__*/React.createElement(\"video\",{\"v-else\":true,controls:true,src:video})):/*#__PURE__*/React.createElement(React.Fragment,null,!closeHidden&&/*#__PURE__*/React.createElement(\"button\",{className:\"modal-close\",\"aria-label\":\"close\",onClick:handleClose}),/*#__PURE__*/React.createElement(\"div\",{className:\"modal-content\"},children)))));};Modal.defaultProps=defaultProps;export default Modal;","map":{"version":3,"sources":["/home/alansky/Dev/KCN/kingston-community-network/website/src/components/elements/Modal.js"],"names":["React","useEffect","classNames","defaultProps","children","show","closeHidden","video","videoTag","Modal","className","handleClose","props","document","addEventListener","keyPress","stopProgagation","removeEventListener","handleBodyClass","querySelectorAll","length","body","classList","add","remove","e","keyCode","stopPropagation","classes"],"mappings":"mMAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CAEA,MAAOC,CAAAA,UAAP,KAAuB,YAAvB,CAWA,GAAMC,CAAAA,YAAY,CAAG,CACnBC,QAAQ,CAAE,IADS,CAEnBC,IAAI,CAAE,KAFa,CAGnBC,WAAW,CAAE,KAHM,CAInBC,KAAK,CAAE,EAJY,CAKnBC,QAAQ,CAAE,QALS,CAArB,CAQA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,MASR,IARJC,CAAAA,SAQI,MARJA,SAQI,CAPJN,QAOI,MAPJA,QAOI,CANJO,WAMI,MANJA,WAMI,CALJN,IAKI,MALJA,IAKI,CAJJC,WAII,MAJJA,WAII,CAHJC,KAGI,MAHJA,KAGI,CAFJC,QAEI,MAFJA,QAEI,CADDI,KACC,+GAEJX,SAAS,CAAC,UAAM,CACdY,QAAQ,CAACC,gBAAT,CAA0B,SAA1B,CAAqCC,QAArC,EACAF,QAAQ,CAACC,gBAAT,CAA0B,OAA1B,CAAmCE,eAAnC,EACA,MAAO,WAAM,CACXH,QAAQ,CAACI,mBAAT,CAA6B,SAA7B,CAAwCF,QAAxC,EACAF,QAAQ,CAACI,mBAAT,CAA6B,OAA7B,CAAsCD,eAAtC,EACD,CAHD,CAID,CAPQ,CAAT,CASAf,SAAS,CAAC,UAAM,CACdiB,eAAe,GAChB,CAFQ,CAEN,CAACN,KAAK,CAACP,IAAP,CAFM,CAAT,CAIA,GAAMa,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CAC5B,GAAIL,QAAQ,CAACM,gBAAT,CAA0B,kBAA1B,EAA8CC,MAAlD,CAA0D,CACxDP,QAAQ,CAACQ,IAAT,CAAcC,SAAd,CAAwBC,GAAxB,CAA4B,iBAA5B,EACD,CAFD,IAEO,CACLV,QAAQ,CAACQ,IAAT,CAAcC,SAAd,CAAwBE,MAAxB,CAA+B,iBAA/B,EACD,CACF,CAND,CAQA,GAAMT,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACU,CAAD,CAAO,CACtBA,CAAC,CAACC,OAAF,GAAc,EAAd,EAAoBf,WAAW,CAACc,CAAD,CAA/B,CACD,CAFD,CAIA,GAAMT,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACS,CAAD,CAAO,CAC7BA,CAAC,CAACE,eAAF,GACD,CAFD,CAIA,GAAMC,CAAAA,OAAO,CAAG1B,UAAU,CACxB,OADwB,CAExBG,IAAI,EAAI,WAFgB,CAGxBE,KAAK,EAAI,aAHe,CAIxBG,SAJwB,CAA1B,CAOA,mBACE,wCACGL,IAAI,eACH,2CACMO,KADN,EAEE,SAAS,CAAEgB,OAFb,CAGE,OAAO,CAAEjB,WAHX,gBAKE,2BAAK,SAAS,CAAC,aAAf,CAA6B,OAAO,CAAEK,eAAtC,EACGT,KAAK,cACJ,2BAAK,SAAS,CAAC,kBAAf,EACGC,QAAQ,GAAK,QAAb,cACC,8BACE,KAAK,CAAC,OADR,CAEE,GAAG,CAAED,KAFP,CAGE,WAAW,CAAC,GAHd,CAIE,eAAe,KAJjB,EADD,cAOC,6BACE,aADF,CAEE,QAAQ,KAFV,CAGE,GAAG,CAAEA,KAHP,EARJ,CADI,cAgBJ,wCACG,CAACD,WAAD,eACC,8BACE,SAAS,CAAC,aADZ,CAEE,aAAW,OAFb,CAGE,OAAO,CAAEK,WAHX,EAFJ,cAQE,2BAAK,SAAS,CAAC,eAAf,EACGP,QADH,CARF,CAjBJ,CALF,CAFJ,CADF,CA2CD,CA1FD,CA6FAK,KAAK,CAACN,YAAN,CAAqBA,YAArB,CAEA,cAAeM,CAAAA,KAAf","sourcesContent":["import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nconst propTypes = {\n  children: PropTypes.node,\n  handleClose: PropTypes.func.isRequired,\n  show: PropTypes.bool.isRequired,\n  closeHidden: PropTypes.bool,\n  video: PropTypes.string,\n  videoTag: PropTypes.oneOf(['iframe', 'video'])\n}\n\nconst defaultProps = {\n  children: null,\n  show: false,\n  closeHidden: false,\n  video: '',\n  videoTag: 'iframe'\n}\n\nconst Modal = ({\n  className,\n  children,\n  handleClose,\n  show,\n  closeHidden,\n  video,\n  videoTag,\n  ...props\n}) => {\n\n  useEffect(() => {\n    document.addEventListener('keydown', keyPress);\n    document.addEventListener('click', stopProgagation);\n    return () => {\n      document.removeEventListener('keydown', keyPress);\n      document.removeEventListener('click', stopProgagation);\n    };    \n  });\n\n  useEffect(() => {\n    handleBodyClass();\n  }, [props.show]); \n  \n  const handleBodyClass = () => {\n    if (document.querySelectorAll('.modal.is-active').length) {\n      document.body.classList.add('modal-is-active');\n    } else {\n      document.body.classList.remove('modal-is-active');\n    }\n  }\n\n  const keyPress = (e) => {\n    e.keyCode === 27 && handleClose(e);\n  }\n\n  const stopProgagation = (e) => {\n    e.stopPropagation();\n  }\n\n  const classes = classNames(\n    'modal',\n    show && 'is-active',\n    video && 'modal-video',\n    className\n  );\n\n  return (\n    <>\n      {show &&\n        <div\n          {...props}\n          className={classes}\n          onClick={handleClose}\n        >\n          <div className=\"modal-inner\" onClick={stopProgagation}>\n            {video ?\n              <div className=\"responsive-video\">\n                {videoTag === 'iframe' ?\n                  <iframe\n                    title=\"video\"\n                    src={video}\n                    frameBorder=\"0\"\n                    allowFullScreen\n                  ></iframe> :\n                  <video\n                    v-else\n                    controls\n                    src={video}\n                  ></video>\n                }\n              </div> :\n              <>\n                {!closeHidden &&\n                  <button\n                    className=\"modal-close\"\n                    aria-label=\"close\"\n                    onClick={handleClose}\n                  ></button>\n                }\n                <div className=\"modal-content\">\n                  {children}\n                </div>\n              </>\n            }\n          </div>\n        </div>\n      }\n    </>\n  )\n}\n\nModal.propTypes = propTypes;\nModal.defaultProps = defaultProps;\n\nexport default Modal;"]},"metadata":{},"sourceType":"module"}